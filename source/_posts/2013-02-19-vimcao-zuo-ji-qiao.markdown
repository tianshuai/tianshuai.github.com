---
layout: post
title: "vim操作技巧"
date: 2013-02-19 20:22
comments: true
categories: 
---

[Linux]Vim的NERDTree快捷键
切换工作台和目录 
ctr+w+h  光标focus左侧树形目录，ctrl+w+l 光标focus右侧文件显示窗口。 
ctrl+w+w，光标自动在左右侧窗口切换 
<!--more-->
111   o.......在已有窗口中打开文件、目录
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个或书签，并跳到该窗口   .....|NERDTree-o|  

112   go......在已有窗口 中打开文件、目录或书签，但不跳到该窗口 .....|NERDTree-go| 
113   t....... 在新Tab中打开选中文件/书签，并跳到新Tab          .....|NERDTree-t|  
114   T.......在新Tab中打开选中文件/书签，但不跳到新Tab        .....|NERDTree-T|  
115   i.......split 一个新窗口打开选中文件，并跳到该窗口        .....|NERDTree-i|  
116   gi......split一个新窗口打开选中文件，但不跳到该窗口      .....|NERDTree-gi| 
117   s.......vsp一个新窗口打开选中文件，并跳到该窗口          .....|NERDTree-s|  
118   gs......vsp一个新 窗口打开选中文件，但不跳到该窗口        .....|NERDTree-gs| 
119   !.......执行当前文件                                     .....|NERDTree-!|  
120   O.......递归打开选中 结点下的所有目录                     .....|NERDTree-O|  
121   x.......合拢选中结点的父目录                             .....|NERDTree-x|  
122   X.......递归 合拢选中结点下的所有目录                     .....|NERDTree-X|  
123   e.......Edit the current dif                             .....|NERDTree-e|  
124 
125   双击......相当于NERDTree-o
126   中键......对文件相当于NERDTree-i，对目录相当于NERDTree-e
127 
128   D....... 删除当前书签
129           
130   P.......跳到根结点
131   p....... 跳到父结点
132   K.......跳到当前目录下同级的第一个结点
133   J.......跳到当前目录下同级的最后一个结点
134   ...跳到当前目录下同级的前一个结点
135   ...跳到当前目录下同级的后一个结点
136           
137   C.......将选中目录或选中文件的父目录设为根结点
138   u.......将当前根结点的父目录设为根目录，并变成合拢原根结点
139   U.......将当前根结点的父目录设为根目录，但保持展开原根结点
140   r.......递归刷新选中目录
141   R.......递归刷新根结点
142   m....... 显示文件系统菜单
143   cd......将CWD设为选中目录
144           
145   I....... 切换是否显示隐藏文件
146   f.......切换是否使用文件过滤器
147   F.......切换是否显示文件
148   B.......切换是否显示书签
149           
150   q.......关闭NerdTree窗口
151   ?.......切换是否显示Quick Help



VIM的tab切换

:tabnew [++opt选项] ［＋cmd］ 文件            建立对指定文件新的tab
:tabc       关闭当前的tab
:tabo       关闭所有其他的tab
:tabs       查看所有打开的tab
:tabp      前一个
:tabn      后一个
标准模式下：
gt , gT 可以直接在tab之间切换。



2008-07-12 14:29
vim 替换操作大全
vi/vim 中可以使用 :s 命令来替换字符串。以前只会使用一种格式来全文替换，今天发现该命令有很多种写法（vi 真是强大啊，还有很多需要学习），记录几种在此，方便以后查询。
:s/vivian/sky/ 替换当前行第一个 vivian 为 sky
:s/vivian/sky/g 替换当前行所有 vivian 为 sky
:n,$s/vivian/sky/ 替换第 n 行开始到最后一行中每一行的第一个 vivian 为 sky
:2,$s/vivian/sky/g 替换第 2 行开始到最后一行中每一行所有 vivian 为 sky
n 为数字，若 n 为 .，表示从当前行开始到最后一行
:%s/vivian/sky/（等同于 :g/vivian/s//sky/） 替换每一行的第一个 vivian 为 sky
:%s/vivian/sky/g（等同于 :g/vivian/s//sky/g） 替换每一行中所有 vivian 为 sky
可以使用 # 作为分隔符，此时中间出现的 / 不会作为分隔符
:s#vivian/#sky/# 替换当前行第一个 vivian/ 为 sky/
:%s+/oradata/apras/+/user01/apras1+ （使用+ 来 替换 / ）： /oradata/apras/替换成/user01/apras1/
1.:s/vivian/sky/ 替换当前行第一个 vivian 为 sky
:s/vivian/sky/g 替换当前行所有 vivian 为 sky
2. :n,$s/vivian/sky/ 替换第 n 行开始到最后一行中每一行的第一个 vivian 为 sky
:n,$s/vivian/sky/g 替换第 n 行开始到最后一行中每一行所有 vivian 为 sky
(n 为数字，若 n 为 .，表示从当前行开始到最后一行)
3. :%s/vivian/sky/（等同于 :g/vivian/s//sky/） 替换每一行的第一个 vivian 为 sky
:%s/vivian/sky/g（等同于 :g/vivian/s//sky/g） 替换每一行中所有 vivian 为 sky
4. 可以使用 # 作为分隔符，此时中间出现的 / 不会作为分隔符
:s#vivian/#sky/# 替换当前行第一个 vivian/ 为 sky/
5. 删除文本中的^M
问题描述：对于换行,window下用回车换行(0A0D)来表示，Linux下是回车(0A)来表示。这样，将window上的文件拷到Unix上用时，总会有个^M.请写个用在unix下的过滤windows文件的换行符(0D)的shell或c程序。
· 使用命令：cat filename1 | tr -d "^V^M" > newfile；
· 使用命令：sed -e "s/^V^M//" filename > outputfilename。需要注意的是在1、2两种方法中，^V和^M指的是Ctrl+V和Ctrl+M。你必须要手工进行输入，而不是粘贴。
· 在vi中处理：首先使用vi打开文件，然后按ESC键，接着输入命令：%s/^V^M//。
· :%s/^M$//g
如果上述方法无用，则正确的解决办法是：
· tr -d "\r" < src >dest
· tr -d "\015" dest
· strings A>B

6. 其它
利用 :s 命令可以实现字符串的替换。具体的用法包括：
:s/str1/str2/ 用字符串 str2 替换行中首次出现的字符串 str1
:s/str1/str2/g 用字符串 str2 替换行中所有出现的字符串 str1
:.,$ s/str1/str2/g 用字符串 str2 替换正文当前行到末尾所有出现的字符串 str1
:1,$ s/str1/str2/g 用字符串 str2 替换正文中所有出现的字符串 str1
:g/str1/s//str2/g 功能同上
从上述替换命令可以看到：g 放在命令末尾，表示对搜索字符串的每次出现进行替换；不加 g，表示只对搜索
字符串的首次出现进行替换；g 放在命令开头，表示对正文中所有包含搜索字符串的行进行替换操作。
